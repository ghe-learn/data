---
title: "Data resources"
output: 
  github_document: 
    toc: yes
bibliography: data.bib
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```


```{r}
library(tidyverse)
```

# Introduction

This repo contains explorations of data that is published openly. Topics include: Waste Management, Air Quality, Wastewater Management, Faecal Sludge Management, WASH (Water, Sanitation, and Hygiene).

For now, all exploration is done in a single R Markdown script rendered to this README file. As the document grows, it will be split into sets of scripts per topic.

# Waste Management

## Abidjan, Cote d'Ivoire, waste characterization data, Feb-Mar 2018

Source: [@innovations2020abidjan]

Results of municipal solid waste characterization study conducted in Abidjan, Cote d'Ivoire, in February-March, 2018 by [Waste2Worth Innovations](https://www.w2wglobal.com/).


```{r}

dat <- read_csv("data/raw/Abidjan, Cote d'Ivoire, waste characterization data, Feb-Mar 2018.csv") %>% 
  janitor::clean_names() %>% 
  group_by(sample) %>% 
  mutate(
    percent = mass_kg / sum(mass_kg) * 100
  )

```

- 2080 observations
- 8 days of data collection
- 80 samples with measurements in 26 waste categories each

```{r}
dat %>% 
  count(date)

dat %>% 
  count(sample)

dat %>% 
  count(date, sample)

dat %>% 
  count(category) 

dat %>% 
  arrange(sample) 

dat %>% 
  group_by(sample) %>% 
  summarise(
    sum_mass_kg = sum(mass_kg)
  ) %>% 
  arrange(desc(sum_mass_kg))

dat %>% 
  arrange(sample) 

dat %>% 
  group_by(category) %>% 
  summarise(
    count = n(),
    mean = mean(mass_kg),
    sd = sd(mass_kg),
    min = min(mass_kg),
    max = max(mass_kg)
  ) 

dat %>% 
  arrange(sample) %>% 
  group_by(category) %>% 
  summarise(
    count = n(),
    mean = mean(percent),
    sd = sd(percent),
    min = min(percent),
    max = max(percent)
  ) %>% 
  arrange(desc(mean))

```

```{r}

dat %>% 
  ggplot(aes(x = sample, y = percent, fill = category)) +
  geom_col()

dat %>% 
  ggplot(aes(x = reorder(category, percent), y = percent)) +
  coord_flip() +
  geom_jitter(width = 0.1, alpha = 0.3)




```

# References
